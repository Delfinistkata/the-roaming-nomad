{% extends "base.html" %}
{% load static %}
{% block title%} Edit Settings {% endblock %}
{% block content %}
{% if user.is_authenticated and user.id %}
    <div class="container  mt-5 mb-4">
        <div class="card border-0 shadow rounded-3 my-5">
            <div class="card-body p-4 p-sm-5">
                <h1 class="mb-4 text-center">Edit Settings Profile</h1>
                <form method="POST">
                    {% csrf_token %}                    
                    <div class="form-floating mb-3">            
                        {{ form.username}}
                        <label class="form-label mb-3" for="userName">Username</label>
                        {% if form.errors.username%}
                            {% for error in form.errors.username %}
                                <p class="text-danger">{{ error }}</p>
                            {% endfor%}                                            
                        {%endif%}
                    </div>                                                                            
                    <div class="form-floating mb-3">
                        {{ form.first_name}}            
                        <label class="form-label" for="firstNname">First Name</label>
                        {% if form.errors.first_name%}
                            {% for error in form.errors.first_name %}
                                <p class="text-danger">{{ error }}</p>
                            {% endfor%}                                            
                        {%endif%}
                    </div>
                    <div class="form-floating mb-3">
                        {{ form.last_name}}
                        <label class="form-label" for="lastName">Last Name</label>
                        {% if form.errors.last_name%}
                            {% for error in form.errors.last_name %}
                                <p class="text-danger">{{ error }}</p>
                            {% endfor%}                                            
                        {%endif%}
                    </div>
                    <div class="form-floating mb-3">
                        {{ form.email}}
                        <label class="form-label" for="email">Email</label>
                        {% if form.errors.email%}
                            {% for error in form.errors.email %}
                                <p class="text-danger">{{ error }}</p>
                            {% endfor%}                                            
                        {%endif%}
                    </div>
                    <div class="form-floating mb-3">
                        {% if form.errors.password_change_link%}
                            {% for error in form.errors.password_change_link %}
                                <p class="text-danger">{{ error }}</p>
                            {% endfor%}                                            
                        {%endif%}
                    </div>
                    <p>Password: <a href="{% url 'password_change' %}">Click here to change your password</a></p>
                    <button class="btn btn-primary"> Submit </button>
                </form>
            </div>
        </div>
    </div>
{% else %}
    <h3 class="text-center text-dark">
        You are not authorised for this activity! Please login to your profile.
    </h3>
    <div class="flex text-center mb-3">
        <a href="{% url 'login' %}" class="btn btn-primary btn-sm">Login</a>
    </div>

{% endif %}
{% endblock %}
